module.exports={run:function(e){var a=e.interval,r=e.path,t=e.onFrame,n=require("fs"),o=require("serverboy"),{createCanvas:s,loadImage:u}=require("canvas"),i=s(160,144),c=i.getContext("2d");var v=new o,m=n.readFileSync(r);return v.loadRom(m),setInterval((async function(){for(var e=c.createImageData(160,144),a=v.doFrame(),r=0;r<a.length;r++)e.data[r]=a[r];c.putImageData(e,0,0),t(Buffer.from(i.toDataURL().split(",").pop(),"base64"))}),a),{gameboy:v,pressKeys:function(e,a){e.pressKeys(a)}}},runB64:function(e){var a=e.interval,r=e.path,t=e.onFrame,n=require("fs"),o=require("serverboy"),{createCanvas:s,loadImage:u}=require("canvas"),i=s(160,144),c=i.getContext("2d");var v=new o,m=n.readFileSync(r);return v.loadRom(m),setInterval((async function(){for(var e=c.createImageData(160,144),a=v.doFrame(),r=0;r<a.length;r++)e.data[r]=a[r];c.putImageData(e,0,0),t(i.toDataURL().split(",").pop())}),a),{gameboy:v,pressKeys:function(e,a){e.pressKeys(a)}}},runDataURL:function(e){var a=e.interval,r=e.path,t=e.onFrame,n=require("fs"),o=require("serverboy"),{createCanvas:s,loadImage:u}=require("canvas"),i=s(160,144),c=i.getContext("2d");var v=new o,m=n.readFileSync(r);return v.loadRom(m),setInterval((async function(){for(var e=c.createImageData(160,144),a=v.doFrame(),r=0;r<a.length;r++)e.data[r]=a[r];c.putImageData(e,0,0),t(i.toDataURL())}),a),{gameboy:v,pressKeys:function(e,a){e.pressKeys(a)}}}};
